<!DOCTYPE html>
<html lang="en">
<style>
</style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RubyVago | Spaces</title>
    <link href="<%= url('/style.css') %>" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
</head>
<body>
      <div>
        <a class='btn' href="/requests">Requests</a>
        <a class='btn' href="/log_out">Log out</a>
        <a class='btn' href="/owner-history">Lettings</a>
        <a class='btn' href="/user-history">Bookings</a>
   
    <h1>Book a space</h1>
    
    <h3>Hello <%= @user.name %> ðŸ‘‹  here are the available spaces.</h3>
    <br>
    <a class='btn' href="/spaces/new">List a Space</a>
    <br>
    <form action="/spaces/search" method="post">
      <label for='available-from'>Available from (YYYY-MM-DD)</label>
        <input type="text" name='available-from' required>
      <label for='available-to'>Available to (YYYY-MM-DD)</label>
      <input type="text" name='available-to' required>
      <input class="button" type="submit" value="Filter">
    </form>
    <br>
    <ul>
    <% @spaces.each do |space|%>
    <li>
      <h3><%= space.name %></h3>
      <p><%= space.description %></p> 
      <p>Location: <%= space.location %> Price per night: Â£<%= space.price %><p>
      <p>Available from: <%= space.available_from %> to: <%= space.available_to %></p>
      <form action="spaces/<%= space.id %>/booking" method="GET">
       <input hidden name="owner_id" value="<%=space.owner%>">
       <input type="submit" value="Book"/>
      </form>
    </li>
    <% end %>
    </ul>
</body>
</html>